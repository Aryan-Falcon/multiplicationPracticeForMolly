<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Multiplication RPG ‚Äî Arcane Tower</title>

<style>
body {
    margin: 0;
    padding: 0;
    font-family: 'Georgia', serif;
    background: radial-gradient(circle at center, #3a0057, #120018);
    color: #f8e7ff;
}

h1 {
    text-align: center;
    font-size: 42px;
    margin-top: 20px;
    color: #ffd6ff;
    text-shadow: 0 0 15px #ff6cff;
}

#battlefield {
    margin-top: 40px;
    display: flex;
    justify-content: space-around;
    align-items: center;
}

.character {
    width: 200px;
    height: 200px;
    background-size: cover;
    background-position: center;
}

#hero {
    background-image: url('https://i.etsystatic.com/49218806/r/il/141e80/6557512067/il_fullxfull.6557512067_asdh.jpg');
}

.hp-bar {
    width: 60%;
    height: 25px;
    background: #3a003a;
    border: 2px solid #ffb7ff;
    margin: 10px auto;
}

.hp-fill {
    height: 100%;
    background: #ff55ff;
    width: 100%;
    transition: width 0.5s;
}

#question-box {
    margin-top: 30px;
    font-size: 32px;
    text-align: center;
}

input {
    margin-top: 15px;
    font-size: 26px;
    padding: 8px;
    width: 150px;
    text-align: center;
    border-radius: 10px;
    border: none;
    display: block;
    margin: auto;
}

#timer {
    font-size: 32px;
    text-align: center;
    margin-top: 15px;
    color: #ffb7ff;
    text-shadow: 0 0 12px #ff6cff;
}

#feedback {
    margin-top: 25px;
    padding: 20px;
    font-size: 38px;
    font-weight: bold;
    text-align: center;
    border-radius: 15px;
    display: none;
}

.correct {
    background: rgba(0,255,150,0.15);
    border: 3px solid #00ff99;
    box-shadow: 0 0 25px #00ff99;
}

.wrong {
    background: rgba(255,0,80,0.15);
    border: 3px solid #ff3366;
    box-shadow: 0 0 25px #ff3366;
}
</style>
</head>

<body>

<h1>‚öîÔ∏è Multiplication RPG: Arcane Tower ‚öîÔ∏è</h1>

<div id="battlefield">
    <div id="hero" class="character"></div>
    <div id="monster" class="character"></div>
</div>

<div style="text-align:center;">
    Hero HP
    <div class="hp-bar"><div id="hero-hp" class="hp-fill"></div></div>
    Monster HP
    <div class="hp-bar"><div id="monster-hp" class="hp-fill"></div></div>
</div>

<div id="timer">‚è≥ Time: 16</div>
<div id="question-box"></div>
<input id="answer" type="number" placeholder="ENTER">
<div id="feedback"></div>

<script>
/* ================= GAME STATE ================= */
let questions = [];
let current = 0;
let monstersDefeated = 0;

let heroHP = 100;
let monsterHP = 60;

/* TIMER */
const FIXED_TIME = 16;
let timeLeft = FIXED_TIME;
let timerInterval;

/* DAMAGE */
let baseMonsterDamage = 10;
let monsterScaling = 5;

/* MONSTER IMAGES */
const monsterImages = {
    1: "https://p1.hiclipart.com/preview/549/267/644/monster-rpg-maker-mv-rpg-maker-vx-game-roleplaying-game-slime-slime-morimori-dragon-quest-video-game-development-png-clipart.jpg",
    2: "https://i.pinimg.com/originals/12/74/5e/12745ef0d668ea915bc5cb4a6223e643.jpg",
    3: "https://i.pinimg.com/564x/bc/92/9a/bc929acfd5d867c805c06dbe8b05855c.jpg",
    4: "https://koboldpress.com/wp-content/uploads/2013/02/ghost_goblin_by_chrismcfann.jpg",
    5: "https://i.pinimg.com/474x/c8/51/9c/c8519ce4a412892d327c7671c1f30bc3.jpg",
    6: "https://static.wikia.nocookie.net/rpgtalk/images/e/e0/IronGolemDNDB.jpeg/revision/latest/smart/width/250/height/250?cb=20200808102122",
    7: "https://i.pinimg.com/474x/76/47/77/7647777b090a764468351b91061db6f4.jpg",
    8: "https://img.freepik.com/free-photo/literary-fantasy-character_23-2151863447.jpg?semt=ais_hybrid&w=740&q=80",
    9: "https://i.pinimg.com/474x/c8/51/9c/c8519ce4a412892d327c7671c1f30bc3.jpg",
    10: "https://img.freepik.com/premium-photo/close-up-monster-with-purple-face-purple-body-generative-ai_974533-21727.jpg?semt=ais_hybrid&w=740&q=80"
};

/* QUESTIONS */
for (let i = 0; i < 30; i++) {
    let a = Math.ceil(Math.random() * 12);
    let b = Math.ceil(Math.random() * 12);
    questions.push({ a, b });
}

/* TIMER */
function startTimer() {
    clearInterval(timerInterval);
    timeLeft = FIXED_TIME;
    updateTimer();

    timerInterval = setInterval(() => {
        timeLeft--;
        updateTimer();
        if (timeLeft <= 0) {
            clearInterval(timerInterval);
            monsterAttack("‚è∞ Time's up!");
        }
    }, 1000);
}

function updateTimer() {
    document.getElementById("timer").innerHTML = `‚è≥ Time: ${timeLeft}`;
}

/* FEEDBACK */
function showFeedback(text, correct) {
    let box = document.getElementById("feedback");
    box.className = correct ? "correct" : "wrong";
    box.innerHTML = text;
    box.style.display = "block";
    setTimeout(() => box.style.display = "none", 1600);
}

/* GAME */
function showQuestion() {
    if (current >= 30 || heroHP <= 0) return endGame();
    let q = questions[current];
    document.getElementById("question-box").innerHTML = `${q.a} √ó ${q.b} = ?`;
}

function spawnMonster() {
    monsterHP = 60;
    document.getElementById("monster-hp").style.width = "100%";

    let monsterNum = monstersDefeated + 1;
    let monster = document.getElementById("monster");
    monster.style.backgroundImage =
        `url('${monsterImages[monsterNum] || monsterImages[1]}')`;

    startTimer();
}

function monsterAttack(reason) {
    let dmg = baseMonsterDamage + monstersDefeated * monsterScaling;
    heroHP -= dmg;

    let q = questions[current];
    showFeedback(
        `${reason}<br>${q.a} √ó ${q.b} = ${q.a * q.b}<br>üí• Monster dealt ${dmg} damage`,
        false
    );

    document.getElementById("hero-hp").style.width = heroHP + "%";
    current++;
    showQuestion();
    startTimer();
}

function submitAnswer() {
    clearInterval(timerInterval);
    let input = document.getElementById("answer");
    let q = questions[current];
    let correct = q.a * q.b;

    if (Number(input.value) === correct) {
        monsterHP -= 15;
        showFeedback(`‚úÖ Correct!<br>${q.a} √ó ${q.b} = ${correct}`, true);

        if (monsterHP <= 0) {
            monstersDefeated++;
            spawnMonster();
        }
    } else {
        monsterAttack("‚ùå Wrong!");
        return;
    }

    document.getElementById("monster-hp").style.width = monsterHP + "%";
    input.value = "";
    current++;
    showQuestion();
    startTimer();
}

function endGame() {
    document.body.innerHTML = `
        <h1>Game Over</h1>
        <p style="text-align:center;">Monsters defeated: ${monstersDefeated}</p>
        <button onclick="location.reload()">Play Again</button>
    `;
}

document.getElementById("answer").addEventListener("keydown", e => {
    if (e.key === "Enter") submitAnswer();
});

/* START */
spawnMonster();
showQuestion();
document.getElementById("hero-hp").style.width = heroHP + "%";
</script>

</body>
</html>
